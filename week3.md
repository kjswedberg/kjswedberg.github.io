# Week 3

## Monday, June 1, 2020
This morning, I used the Shelly 1PM power meter on a blow dryer to get more data points. The actual current and the actual voltage were measured with a clamp-on meter that could read AC current and with a digital multimeter. [This Spreadsheet](https://docs.google.com/spreadsheets/d/1evgPBBHH2XYcFCAERA_7hmZKDgcDnaXJryOPfYvQiyg/edit?usp=sharing) shows the measured values, the actual power that was calculated from those measured values, and the power that the Shelly app said that the blow dryer. A coffee maker was also measured, while it was heating up water. The measured current and the measured voltage for the coffee maker was close enough to the measured current and the measured voltage of the blow dryer, while it was on its cool, high setting. This made the actual measured powers for those two loads close in value. However, the power that the Shelly app read for the two loads were not close in value, but were 68 W apart instead. The percent errors for the measurements that were made today are higher than 20 % and less than 35 %. The meter used to measure the current was rated to be accurate to plus/minus 2 %, while the digital multimeter was rated to be accurate to plus/minus 0.5 %. When some values were repeated, the Shelly app was not as precise as it was during the measurements that were done during Week 2. Based off of the data that was collected today, this meter is not accurate and precise enough to use for important power measurements. Figure 1 shows the power meter bar graph with the calculated power and the measured power results. In this case, the calculated power is the power that was calculated from the measured voltage and the measured current, while the measured power is the power that the Shelly 1PM power meter measured. Figure 2 shows a graph that compares the percent error between the measured power and the calculated power with the measured current. 

![Power Meter Graph](https://user-images.githubusercontent.com/65566903/83470841-a3fe6d80-a42f-11ea-9259-9cc4a6128369.png) <br>
**Figure 1: The power meter bar graph for the calculated and the measured powers.** <br>

![Percent Error vs  Measured Current ](https://user-images.githubusercontent.com/65566903/83470848-a791f480-a42f-11ea-8a53-088548495b07.png) <br>
**Figure 2: The percent error for the measured and calculated powers compared to the measured current.** <br>

Although the Shelly 1PM power meter is not accurate enough to make critical measurements with, it does work to verify that a device is turned on. If a better estimate is wanted, the average percent error of 25 % can be used to achieve a better estimate. The app also has a timer option and a schedule option. These options can allow for a user to schedule how long a device is on for. Those options also allow for a device to turn on at a certain and turn off at a certain time. So although this device is not able to make critical,  measurements with that are accurate, it does allow someone to control devices from a distance and it allows someone to have an idea about which devices using the most power.

During the afternoon, I installed Jupyter Notebooks and Anaconda on the Chromebook. I also started to think about how I would create a timeseries measurement with the Shelly 1PM power meter to use with Telegraf to create some graphs with Grafana. So far, the way that I can think of is to create a csv file with the data and see if Telegraf can read the data from that file. However, I need to find more information on how to create the data csv file, so that I can ensure that Telegraf can read the data file. I have enabled cloud on the Shelly app to see if the power used at set intervals will be stored in the app. I plugged a clock into the Shelly power meter to collect data from, so that I can see how the app will store the data.

## Tuesday, June 2, 2020
This morning and early afternoon, I worked more with the Shelly Cloud app to determine how data could be collected from the Shelly 1PM power meter. I started out collected some data manually, inserting that data in a csv file, and then editing a config file to allow Telegraf to read the data. While doing this, I was able to get Telegraf to find the csv file. However, Telegraf had an issue with finding the time column. To start working on automatic data collection, I found the IP address for the Shelly 1PM power meter from the Shelly Cloud app. The power meter is able to be controlled from the web interface. With some help, I was able to enable MQTT from the web interface. This allows data to be sent from the Shelly 1PM power meter to a server located at test.mosquitto.org:1883. After installing mosquitto-clients on a Chromebook, I was able to view data from the power meter from the command terminal. In addition to viewing data regarding the power, data regarding the internal temperature and the status of the device can also be viewed from the command terminal. A link to the document that I working on writing that shows how to set-up a Shelly 1PM power meter and collect the data can be found [here](https://docs.google.com/document/d/1-RYcvCb6G0ohw3NxV3vbHoEbNhK2FrxF3Uv9_O2ZMwI/edit?usp=sharing).   

This morning, I was also introduced to the Eaton project. This project has similarities to what I am currently working on with the Shelly 1PM power meter. In both cases, data is being collected by a meter. A way to access and analyze that data needs to be found. One of the main differences is that the Eaton project will contain more meters that will measure more than just power. The meters being used are different from the Shelly 1PM power meter and the software may also be different. However, I expect that there will be some similarites.

While being introduced to the Eaton project, I was given a quest to fnd out about deadband data triggered events. Deadband is described as the domain of imput values that result in the output being zero. Having a high deadband can create issues. Based off the Allied Valve Inc. link below, some issues that can result with having a high deadband include having higher possibilities of having oscillations in the control loop and errors from load disturbances. 

[https://alliedvalveinc.com/troubleshooting/common-control-valve-problems-watch/](https://alliedvalveinc.com/troubleshooting/common-control-valve-problems-watch/)
